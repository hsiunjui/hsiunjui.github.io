---
title: PHP函数
date: 2020-03-16 19:51:26
tags: php基础
categories: PHP
---
>PHP中函数的定义及其使用.

<!--more-->
# 函数的定义
函数是可以在程序中重复使用的语句块。

# 函数的特性
- 可读性
- 可复用性

# 函数的结构
- 函数名
  ```php
  function func($param){ 
      // 执行块
  }
  // 1.使用function关键字声明一个函数
  // 2.函数名不以$打头,通常是字母和下划线开头,由数字字母下划线组成(也可以中文开始,但不建议也不要这么写)
  // 3.可变函数,可以把函数名以字符串的形式赋给另外一个变量再调用,如$test='func'
  // 4.is_callable($func) / function_exists($func); 判断函数是否可以被调用
  ```
- 函数参数(可以没有)
  ```php
  function(&$a, array $b,$c = 0){
      // 1.参数可以有多个,也可以没有
      // 2.参数可以给默认值,但必须位于末尾一个或多个
      // 3.参数传递分值传递和引用传递
      // 4.标量类型一般时值传递(可以用&变成引用传递),复合类型一般时引用传递
      // 5.可变参数,可以通过func_num_args()获取参数的个数
      // 6.可以规定传入参数的类型,但只能时array,object,callback(callback必须以字符串函数名的形式传递)
  }
  ```
- 函数体
  ```php
  // 1.函数体内声明的变量都是局部变量,一到函数体结束变量被销毁
  // 2.静态变量会被保留,并等于函数最后一次运行时的值
  ```
- 函数的返回值(可以没有)
  ```php
  // 1.返回值用return关键字,return 后的语句不再执行
  // 2.函数可以没有返回值
  ```

# 函数的嵌套
在函数内部定义函数。
```php
function outer() {
    $a = 1;
    function inner() {
        echo 'inner excuted...'
    }
}
// 不能直接调用inner
// inner不能访问outer的局部变量,因为不在同一个作用域,如果要使用需用use关键字,详见匿名函数
// 若要使用必须先调用outer(); 再调用inner();
// php中所有的函数都是全局作用域,与局部变量有所区别
// 可以在一个函数中调用另外一个函数
```

# 递归调用
函数自己调用自己。
```php
function sum($n, $m) { // 累加示例
    if($m <= $n) {
        return $n;
    }
    return sum($n, $m-1) + $m
}
// 1.先要确定结束条件
// 2.调用/返回参数改变后的函数(参数要有衰退的趋势)
```

# 匿名函数
在定义函数时不给函数起函数名。
```php
$say = function(){
    // 执行
};
// 1. =后面就是一个匿名函数
// 2.这样声明必须要要加分号;

function test() { // 在嵌套函数中使用外部的变量
    $message = 'hello';
    $say = function() use($message) {
        echo $message.' world';
    }
    $say();
    // return $say; 当返回给外调用时,就必须使用use关键字了,而不是内部传参
}
```

