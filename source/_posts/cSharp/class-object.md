---
title: C#的面向对象
date: 2016-12-1 15:21:52
categories: C#
tags: c#高级
---
>c#中的类和对象的相关概念。

<!--more-->
# 万物皆对象
    对象由字段、属性和方法组成。字段用于声明，属性描述对象的各种特种。方法描述对对象的操作。
    
# 类
```c#
    public class Person(){
        public Person(){       //构造器
        
        }
        private string _name;       //字段，用于内部访问
        
        public string Name{         //属性，用于外部调用
            get{        //输出属性
                return _name;
            }
            set{        //设置属性
                _name = value;
            }
        }
        public string printName(){        //方法
            Console.WriteLine(this.Name);
        }
    }
    //把具有相同属性和相同方法的对象进一步封装，抽象出类的概念。
    //类是个模型，确定了对象应该具有的属性和方法,根据这个模型，可以创建出具体的对象。
    //类不占用内存，对象才会。
```

# 对象
```c#
    Person p = new Person();    //类的实例化
    p.Name = "sam";             //属性赋值
    p.printName();      //sam
```

# 属性
    属性的作用是保护字段，对字段进行复制和取值进行限定。
    属性的本质是两个方法get()和set(),通过其组合可以实现属性的读写控制。
    允许外部访问的变量一定要声明为属性。
    
# 访问控制
    public 公开的公共的，哪里都可以访问
    private 私有的，只能在类的内部可以访问。
    
# 类的构造方法
    用来初始化对象，给对象的每个属性一次赋值。
    构造函数没有返回值，连void都不能写。
    构造函数的名称要与类名一致。
    构造函数在创建对象的时候执行，默认会有一个无参构造器，重写后失效。
    构造函数可以被重载。
    
# 静态与非静态
        在非静态类中，既可以有实例成员，也可以有静态成员。且每个对象保存一份。
        调用实例成员用对象.成员名，调用静态成员时用类名.成员名。
        静态函数中只能访问静态成员，不允许访问实例成员。
        静态类中，只允许静态成员。
        静态成员会类在内存中只有一份，各对象共享。
        
# this关键字
    代表当前类的对象
    在类当中显式地调用本类的构造函数：this
    
# 析构函数
```c#
     ~Person(){
        //析构逻辑(最后执行)
     }
     //不能在结构体中定义析构函数，只能对类使用析构函数。
     //一个类只允许有一个析构函数。
     //无法继承或重载析构函数，无法手工调用析构函数，它是自动被调用的。
     //析构函数既没有修饰符也没有参数。
```

# 值类型和引用类型
    值类型和应用类型存储在不同的地方（前者在栈中，后者在堆中）。
    两者传递的方式不一样。
    每种值类型均有一个隐式的默认构造函数来初始化该类型的默认值。
